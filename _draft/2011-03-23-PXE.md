---
layout: post
title: PXE Booting
categories:
- it
---
Есть у меня загрузочная флешка на которой собраны несколько инструментов для загрузки Live систем. Knoppix, Slax, Alkid, Дистрибутив Windows XP SP3 и т. д.

Однажды я пришёл на работу без этой флешки. И возникла идея использовать встроенную фичу большинства сетевых плат - загрузку по сети, так называемую технологию PXE.

Идея заключается в том что при загрузке компьютера активизируется загрузчик сетевой карты и обращается к DHCP серверу, получает код загрузки по TFTP и загружает загрузчик в оперативную память. Возникает окно выбора загрузки ОС по сети. После выбора ОС происходит загрузка ос по NFS или SAMBA.

Нам понадобится DHCP-сервер, TFTP-сервер и NFS или SAMBA сервера.

Два первых сервера у меня уже были - всё строилось на FreeBSD 8.1 которая у нас работает как шлюз между нами и внешним миром. Это кстати один из минусов - загрузка по сети требует большого канала и когда начинается загрузка по сети, есть возможность того что скорость обмена данными между другими участниками и шлюзом сильно снизится.

В качестве загружаемых систем у нас будут использоваться Trinity, Partion Magic, FreeBSD booting и CloneZilla.
Самые продвинутые меня тут же спросят - зачем мне столько одинаковых дистрибутивов, которые выполняют практически одинаковые задачи?

Отвечаю - это Unix-way. Каздой задаче нужен свой инструмент. Trinity - прекрасный инструмент для решения Windows-проблем. Partion Magic - полноценный linux для поиска и решения не тривиальных проблем. FreeBSD booting - загрузка минималього окружения для начала установки FreeBSD. CloneZilla - готовый инструмент для копирования уже установленных систем.

С целями разобрались - начнём всё это реализовывать.